<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout/associationLayout">
<meta charset="utf-8">
<!-- html 고유 CSS 추가 -->
<th:block layout:fragment="css">
</th:block>

<!-- html 고유 스크립트 추가 -->
<th:block layout:fragment="script">
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        //년도별 평가 합계 검색 버튼 이벤트 처리
        $('#btnGetEvalTotal').on('click',function() {
            $('#getEvalTotal').submit()
        });
    })
</script>
</th:block>

<div layout:fragment="content">
    <h2>교육원 평가</h2>
    <br>
    <h3>년도별 평가 합계</h3>
    <a type="button" href="/association/evaluation/evaluationTotalChart" class="btn btn-secondary">년도별 평가 그래프로 출력</a>
    <form id="getEvalTotal" action="/association/evaluation/evaluationTotal" method="post">
		<div class="form-group">
			<label>평가 년도 :</label>
            <select class="form-control" id="evalTotalYear" name="evalTotalYear">
                <option value="0">전체</option>
                <option th:each="evalTotalYear:${evalTotalYear}" th:text="${evalTotalYear}" th:value="${evalTotalYear}"></option>
            </select>
        </div>
        <div class="form-group">
            <label>평가 항목 :</label>
            <select class="form-control" id="evalTotalType" name="evalTotalType">
                <option value="%">전체</option>
                <option th:each="evalTotalType:${evalTotalType}" th:text="${evalTotalType}" th:value="${evalTotalType}"></option>
            </select>
        </div>
		<button type="button" id="btnGetEvalTotal" class="btn btn-secondary">년도별 평가 합계 검색</button>
        <a type="button" href="/association/evaluation/addEvaluationTotal" class="btn btn-secondary">년도별 평가 합계 추가</a>
    </form>
    <br>
    <div id="evalTotalChart"></div>
    <table class="table">
		<thead>
			<tr>
				<th>교육원 명</th>
				<th>평가 항목</th>			
                <th>평가 년도</th>
                <th>1월</th>
				<th>2월</th>			
                <th>3월</th>
                <th>4월</th>
				<th>5월</th>			
                <th>6월</th>
                <th>7월</th>
				<th>8월</th>			
                <th>9월</th>
                <th>10월</th>
				<th>11월</th>			
                <th>12월</th>
                <th>총합계</th>
                <th></th>
			</tr>
		</thead>
		<tbody>
            <tr th:each="totalList:${evalTotalList}">
                <td th:text="${totalList.institutionName}"></td>
                <td th:text="${totalList.evalTotalType}"></td>
                <td th:text="${totalList.evalTotalYear}"></td>
                <td th:text="${totalList.evalTotalJan}"></td>
                <td th:text="${totalList.evalTotalFeb}"></td>
                <td th:text="${totalList.evalTotalMar}"></td>
                <td th:text="${totalList.evalTotalApr}"></td>
                <td th:text="${totalList.evalTotalMay}"></td>
                <td th:text="${totalList.evalTotalJun}"></td>
                <td th:text="${totalList.evalTotalJul}"></td>
                <td th:text="${totalList.evalTotalAug}"></td>
                <td th:text="${totalList.evalTotalSep}"></td>
                <td th:text="${totalList.evalTotalOct}"></td>
                <td th:text="${totalList.evalTotalNov}"></td>
                <td th:text="${totalList.evalTotalDec}"></td>
                <td th:text="${totalList.evalTotalSumScore}"></td>
                <td><a type="button" th:href="@{'/association/evaluation/modifyEvalTotal?evalTotalCode='+${totalList.evalTotalCode}}" class="btn btn-secondary">수정</a></td>
            </tr>
		</tbody>
    </table>
    <br>
    <br>
    <h3>평가 항목 상세 보기</h3>
    <a type="button" href="/association/evaluation/addEvalByAssociation" class="btn btn-secondary">평가 항목 상세 추가</a>
	<form id="getEvalByAssociation" action="#" method="post">
		<div class="form-group">
			<label>평가 년도 :</label>
            <select class="form-control" name="evalTotalYear">
                <option th:each="evalTotalYear:${evalTotalYear}" th:text="${evalTotalYear}" th:value="${evalTotalYear}"></option>
            </select>
        </div>
        <div class="form-group">
            <label>평가 항목 :</label>
            <select class="form-control" name="evalTotalType">
                <option th:each="evalTotalType:${evalTotalType}" th:text="${evalTotalType}" th:value="${evalTotalType}"></option>
            </select>
        </div>
		<button type="button" id="btnGet" class="btn btn-secondary">검색</button>
    </form>
    <table class="table">
		<thead>
			<tr>
				<th>교육원 명</th>
				<th>평가 년도</th>			
                <th>평가 항목</th>
                <th>평가 상세 항목</th>
				<th>평가 점수</th>			
                <th>평가 시작일</th>
                <th>평가 종료일</th>
				<th>평가 발표일</th>			
			</tr>
		</thead>
		<tbody>
            <tr th:each="evalList:${evalByAssociationList}">
                <td th:text="${evalList.institutionName}"></td>
                <td th:text="${evalList.evalTotalYear}"></td>
                <td th:text="${evalList.infoEvalByAssociationType}"></td>
                <td th:text="${evalList.infoEvalByAssociationSort}"></td>
                <td th:text="${evalList.evalByAssociationScore}"></td>
                <td th:text="${evalList.evalByAssociationStartDate}"></td>
                <td th:text="${evalList.evalByAssociationEndDte}"></td>
                <td th:text="${evalList.evalByAssociationResultDate}"></td>
            </tr>
		</tbody>
	</table>
</div>
</html>