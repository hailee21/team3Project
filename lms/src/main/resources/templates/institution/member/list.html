<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout/institutionLayout">
<meta charset="utf-8">
<title>회원 리스트</title>
<!-- html 고유 CSS 추가 -->
<th:block layout:fragment="css">
</th:block>

<!-- html 고유 스크립트 추가 -->
<th:block layout:fragment="script">
<script>
$(document).ready(function(){
	$('#memberRank').change(function(){
		console.log("조회할회원등급: "+$('#memberRank').val());
		$.ajax({
            type : 'GET'
	        ,data : {'memberRank':memberRank}
    	    ,url : '/rankList'
        	,success : function(data) {
            	console.log(data)
				
            }
	    });
	});
});
</script>
</th:block>

<div layout:fragment="content">
	<h1>회원 조회</h1>
	<div class="row">
		<div class="col-md-2">
			<div class="form-group">
				<label for="memberRank">등급별조회</label>
				<select class="form-control" id="memberRank" name="memberRank">
					<option value="전체보기">전체보기</option>
					<option th:each="rank:${rank}" th:value="${rank.memberRank}" th:text="${rank.memberRank}"></option>
				</select>
				<small class="form-text text-muted">조회할 등급을 선택하세요</small>
			</div>
		</div>
	</div>
	<table class="table table-hover">
		<thead>
			<tr>
				<th scope="col">이름</th>
				<th scope="col">아이디</th>
				<th scope="col">전화번호</th>
				<th scope="col">교육원</th>
				<th scope="col">회원등급</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="member:${memberList}">
				<!-- <input type="hidden" value="${member.memberCode}"> -->
				<th scope="row" th:text="${member.memberName}"></th>
				<td th:text="${member.memberOnlineId}"></td>
				<td th:text="${member.memberPhoneNumber}"></td>
				<td th:text="${member.institutionName}"></td>
				<td th:text="${member.memberRank}"></td>
		</tbody>
	</table>
</div>
</html>